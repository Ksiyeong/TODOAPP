{% extends 'base.html' %}

{% block content %}

{% if diary %}
<h1>글 상세 페이지입니다.</h1>

<div>
    <p>글 제목: {{ diary.title }}</p>
    <p>글 내용: {{ diary.content }}</p>
    <p>날짜: {{ diary.date }}</p>

    <a href="/edit/{{ diary.id }}" class="btn">수정하기</a>
    <button onclick="deleteDiary('{{ diary.id }}')">삭제</button>
</div>

{% else %}
<h1>찾으시는 일기가 없습니다!</h1>

{% endif %}

<script>
    async function deleteDiary(id) {
        await fetch(`/diaries/${id}`, {
            method: "DELETE",
        });
        location.replace('/');
    }
</script>
{% endblock %}